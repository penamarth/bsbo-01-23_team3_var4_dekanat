@startuml
actor "Сотрудник деканата" as DeanWorker
participant "DeanOfficeController" as DO
participant "IStudentsService" as ISS
participant "IGroupsService" as IGS
participant "IDigitalDocumentManager" as IDDM
participant "IEducationalDepartmentService" as IEDS

DeanWorker -> DO: enrollStudent(applicantData, programData)
activate DO

DO -> ISS: getStudentInfo(applicantId)
activate ISS
ISS --> DO: applicantInfo
deactivate ISS

DO -> IGS: getGroupInfo(programId)
activate IGS
IGS --> DO: groupInfo
deactivate IGS

DO -> ISS: createStudent(applicantData)
activate ISS
ISS --> DO: newStudent
deactivate ISS

DO -> IGS: addStudent(studentId, groupId)
activate IGS
IGS --> DO: studentAdded
deactivate IGS

DO -> IDDM: registerDocument(enrollmentDocument)
activate IDDM
IDDM --> DO: documentRegistered
deactivate IDDM

DO -> IEDS: sendTransferRequest(studentData)
activate IEDS
IEDS --> DO: requestSent
deactivate IEDS

DO -> ISS: updateStudentStatus(studentId, "Student")
activate ISS
ISS --> DO: statusUpdated
deactivate ISS

DO --> DeanWorker: Enrollment completed
deactivate DO
@enduml
