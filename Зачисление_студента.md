## Рамки
Приложение информационной системы деканата образовательного учреждения.

## Уровень  
Задача, определенная пользователем.

## Основной исполнитель  
Сотрудник деканата.

## Заинтересованные лица и их требования  
- Сотрудник деканата: Хочет точно и быстро оформить зачисление, минимизировать рутинные операции, избежать ошибок в документации.
- Декан: Хочет контролировать процесс зачисления, утверждать приказы, видеть итоговые списки.
- Абитуриент: Хочет получить официальное подтверждение зачисления и информацию о дальнейших шагах.
- Учебно-методический отдел: Хочет своевременно получать данные о новых студентах для формирования учебных групп.
- Бухгалтерия: Хочет получать информацию о зачисленных для начала финансовых операций.
- Система электронного документооборота: Хочет получать корректно оформленные документы для архивации.
- Государственные образовательные службы: Требуют соблюдения законодательства при зачислении.

## Предусловия  
1. Сотрудник деканата идентифицирован и аутентифицирован в системе.
2. Абитуриент прошел вступительные испытания и фигурирует в списках на зачисление.
3. Предоставлен необходимый пакет документов.

## Результаты (Постусловия)
- Данные о новом студенте сохранены в системе.
- Студенту присвоен уникальный идентификатор.
- Документы о зачислении сформированы и подписаны.
- Учебно-методический отдел уведомлен о новом студенте.
- Бухгалтерия уведомлена для начала финансовых операций.
- Данные переданы в систему электронного документооборота.
- Студент уведомлен о зачислении.

## Основной успешный сценарий
1. Сотрудник деканата выбирает операцию "Зачисление студентов". Система проверяет уровень доступа пользователя (роль "Сотрудник деканата") и загружает соответствующий функциональный модуль.
2. Система отображает интерфейс для поиска абитуриентов. Система выполняет запрос к базе данных для получения списка абитуриентов со статусами "Рекомендован к зачислению", "Подал документы". Интерфейс включает поля для фильтрации (ФИО, номер заявления, конкурсная группа).
3. Сотрудник находит абитуриента в списке рекомендованных к зачислению. Происходит фильтрация списка по введенным критериям. Система сохраняет ID выбранного абитуриента для дальнейших действий после фильтрации списка.
4. Система отображает профиль абитуриента и проверяет документы. Система загружает из БД полный профиль абитуриента: персональные данные, результаты ЕГЭ, вступительных испытаний, сканы документов. Запускается внутренняя процедура проверки целостности пакета документов. Система сверяет наличие обязательных документов (например, паспорт, аттестат, заявление) по заранее заданному шаблону. Рядом с каждым документом отображается статус ("Проверен", "Отсутствует"). Система проверяет, не отозвал ли абитуриент заявление.
5. Сотрудник выбирает основание для зачисления и программу. Система проверяет соответствие выбранного основания и программы данным абитуриента (например, достаточно ли баллов для зачисления на бюджет на эту программу). Система также проверяет наличие свободных мест на выбранной программе.
6. Система автоматически присваивает номер зачетной книжки. Система обращается к сервису генерации уникальных номеров. Алгоритм генерации:  номер формируется по маске (например, ГГ-ФФ-СССС, где ГГ - последние две цифры года поступления, ФФ - код факультета, СССС - порядковый номер). Система резервирует сгенерированный номер, проверяя его уникальность в базе данных студентов.
7. Сотрудник отправляет приказ на согласование декану. Система формирует черновик приказа о зачислении, подставляя в шаблон все данные: ФИО абитуриента, основание приказа, программу, номер зачетной книжки. В учетной записи декана создается уведомление о новом задании ("Утвердить приказ о зачислении").
8. Декан подтверждает зачисление. Система проверяет валидность электронной подписи декана. После успешной проверки система присваивает приказу официальный регистрационный номер и дату. Статус документа меняется на "Утвержден". PDF-копия приказа с печатью и ЭЦП сохраняется в системе.
9. Система регистрирует приказ и обновляет статус в БД на "Студент". Запись абитуриента копируется в таблицу students с привязкой к сгенерированным номерам (зачетки, студенческого).
10. Система создает учетную запись студента. Через API (REST/SOAP) система передает в службу каталогов (например, Active Directory) данные: ФИО, ID, код программы. Служба каталогов создает учетную запись с логином (часто из номера зачетки) и генерирует временный пароль.
11. Система уведомляет учебно-методический отдел и бухгалтерию. Формируется и помещается в очередь сообщений (Message Queue) структурированное сообщение (в формате JSON/XML) с данными о новом студенте. Сервисы УМО и Бухгалтерии, подписанные на эту очередь, забирают сообщение и импортируют данные в свои системы. 
12. Система формирует уведомление для студента. Генерируется персонализированное письмо/смс с использованием шаблона. В текст подставляются ФИО студента, номер приказа, программа, логин и пароль от учетной записи, а также ссылка на инструкцию для первокурсников. Письмо отправляется через SMTP-сервер, смс - через SMS-шлюз.
13. Сотрудник деканата завершает процесс зачисления. Система записывает в журнал аудита (audit log) полную последовательность действий: кто, когда, какие операции проводил (для соответствия требованиям законодательства). Сессия "Зачисления" закрывается. Данные кэшируются для отчетности.
    
## Расширения (альтернативные потоки)
а. Декан отклоняет зачисление.
1. Система уведомляет сотрудника деканата об отклонении.
2. Сотрудник проверяет данные или снимает с конкурса.

б. Неполный пакет документов.
1. Система уведомляет о недостающих документах.  
2. Сотрудник приостанавливает процесс до получения документов.  

в. Абитуриент отзывает документы.
1. Сотрудник отмечает отказ в системе.
2. Система удаляет из списка на зачисление.

г. Ошибка в данных абитуриента.
1. Система сигнализирует об ошибке.
2. Сотрудник корректирует данные и повторяет операцию.

## Специальные требования
- Интерфейс должен быть интуитивно понятным при высоких нагрузках.
- Система должна обеспечивать быстрое выполнение операций (отклик менее 3 секунд).
- Данные должны быть защищены в соответствии с ФЗ о защите персональных данных.
- Возможность интеграции с внешними системами.

## Список технологий и типов данных
- Использование электронной подписи для приказов.
- Поддержка сканированных копий документов (PDF, JPEG).
- Автоматическая генерация уведомлений по email и SMS.
- Массовая обработка данных.

## Частота использования
Массово - в периоды приемной кампании, эпизодически - в течение года.

## Открытые вопросы
- Как осуществляется зачисление по разным волнам?
- Каков механизм взаимодействия с ФИС?
- Какой пакет документов обязателен для зачисления?
- Как организован процесс для разных форм обучения?
